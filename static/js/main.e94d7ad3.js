(()=>{"use strict";var e={1180:(e,t,r)=>{var n=r(2299),o=r(6665),a=r(3049),i=r(3668),l=r(3929),s=r(4701),d=r(6283),c=r(2772),u=r(4767),f=r(6773),g=r(5648),h=r(530),m=r(2365),p=r(8952),b=r(397);const y=["A futuristic city with flying cars","A cat wearing sunglasses on a beach","A magical forest with glowing mushrooms","An astronaut riding a horse on Mars","A steampunk-inspired train station","A cyberpunk street scene at night with neon lights","A peaceful mountain landscape at sunset"];function x({onSubmit:e,isLoading:t}){const[r,n]=(0,o.useState)(""),[a,i]=(0,o.useState)(!1);return(0,b.jsxs)(l.default,{style:j.container,children:[(0,b.jsxs)(l.default,{style:j.inputContainer,children:[(0,b.jsx)(f.default,{style:j.input,placeholder:"Describe the image you want to generate...",value:r,onChangeText:n,multiline:!0,maxLength:500,editable:!t,onFocus:()=>i(!1)}),(0,b.jsx)(g.default,{style:j.exampleButton,onPress:()=>{i(!a)},disabled:t,children:(0,b.jsx)(p.default,{name:"bulb-outline",size:24,color:"#6a5acd"})}),(0,b.jsx)(g.default,{style:[j.button,t&&j.buttonDisabled,!r.trim()&&j.buttonDisabled],onPress:()=>{r.trim()&&(m.default.dismiss(),e(r),i(!1))},disabled:t||!r.trim(),children:t?(0,b.jsx)(h.default,{color:"#fff"}):(0,b.jsx)(p.default,{name:"send",size:24,color:"#fff"})})]}),a&&(0,b.jsxs)(l.default,{style:j.examplesContainer,children:[(0,b.jsx)(d.default,{style:j.examplesTitle,children:"Try these prompts:"}),(0,b.jsx)(c.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:j.examplesScrollContent,children:y.map(((e,t)=>(0,b.jsx)(g.default,{style:j.exampleItem,onPress:()=>(e=>{n(e),i(!1)})(e),children:(0,b.jsx)(d.default,{style:j.exampleText,children:e})},t)))})]}),(0,b.jsx)(d.default,{style:j.hint,children:"Try adding details like style, lighting, and mood for better results"})]})}const j=i.default.create({container:{width:"100%",padding:16},inputContainer:{flexDirection:"row",alignItems:"center",backgroundColor:"#f0f0f0",borderRadius:25,paddingHorizontal:15,paddingVertical:5},input:{flex:1,minHeight:50,fontSize:16,color:"#333"},exampleButton:{padding:8,marginRight:5},button:{backgroundColor:"#6a5acd",borderRadius:25,width:50,height:50,justifyContent:"center",alignItems:"center"},buttonDisabled:{backgroundColor:"#a29dcc"},hint:{marginTop:8,color:"#666",fontSize:12,fontStyle:"italic"},examplesContainer:{marginTop:16,width:"100%"},examplesTitle:{fontSize:14,fontWeight:"bold",marginBottom:8,color:"#333"},examplesScrollContent:{paddingBottom:8},exampleItem:{backgroundColor:"#e8e4ff",paddingHorizontal:16,paddingVertical:10,borderRadius:20,marginRight:10,borderWidth:1,borderColor:"#d8d4ff"},exampleText:{color:"#6a5acd",fontSize:14}});var w=r(6725),C=r(8703),S=r(1690),v=r(484);r(402),r(2348),r(2312);const T=()=>"undefined"!==typeof document,k=e=>{if(!T())return!1;try{return window.open(e,"_blank"),!0}catch(t){return console.error("Error opening image in new tab:",t),!1}},{width:z}=w.default.get("window"),O=.9*z,A=1.2*O;function I({imageUrl:e,isLoading:t,error:r,prompt:n}){const[a,i]=(0,o.useState)(!1),[s,c]=(0,o.useState)(!1);return t?(0,b.jsx)(l.default,{style:P.container,children:(0,b.jsxs)(l.default,{style:P.loadingContainer,children:[(0,b.jsx)(h.default,{size:"large",color:"#6a5acd"}),(0,b.jsx)(d.default,{style:P.loadingText,children:"Generating your image..."}),(0,b.jsx)(d.default,{style:P.loadingSubText,children:"This may take a few seconds"})]})}):r||a?(0,b.jsx)(l.default,{style:P.container,children:(0,b.jsxs)(l.default,{style:P.errorContainer,children:[(0,b.jsx)(p.default,{name:"alert-circle",size:50,color:"#ff6b6b"}),(0,b.jsx)(d.default,{style:P.errorText,children:"Error generating image"}),(0,b.jsx)(d.default,{style:P.errorSubText,children:r||"The image couldn't be generated. Try a different prompt or check your connection."})]})}):e?(0,b.jsx)(l.default,{style:P.container,children:(0,b.jsxs)(l.default,{style:P.imageContainer,children:[(0,b.jsx)(v.default,{source:{uri:e},style:P.image,resizeMode:"cover",onError:()=>{i(!0)}}),n&&(0,b.jsx)(l.default,{style:P.promptContainer,children:(0,b.jsxs)(d.default,{style:P.promptText,numberOfLines:2,children:['"',n,'"']})}),(0,b.jsxs)(l.default,{style:P.buttonContainer,children:[(0,b.jsx)(g.default,{style:P.iconButton,onPress:async()=>{if(e)try{if(T())return void k(e);await C.default.share({url:e,message:`AI generated image for: "${n}" - Created with Pollinations.ai`})}catch(r){console.error("Error sharing image:",r),S.default.alert("Sharing Failed","Could not share the image. Please try again.")}},children:(0,b.jsx)(p.default,{name:"share-outline",size:24,color:"#fff"})}),(0,b.jsx)(g.default,{style:[P.iconButton,s&&P.iconButtonDisabled],onPress:async()=>{if(e)try{c(!0);const t=(new Date).getTime(),o=`${n?n.substring(0,20).replace(/[^a-zA-Z0-9]/g,"_"):"ai_image"}_${t}.jpg`;let a=!1;a=await(async(e,t)=>{if(!T())return!1;try{const r=document.createElement("a");return r.href=e,r.download=t||"ai-generated-image.jpg",r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}catch(r){return console.error("Error downloading image on web:",r),!1}})(e,o),a||(a=k(e)),a||S.default.alert("Download Failed","Could not download the image. Try right-clicking or long-pressing on the image to save it manually.",[{text:"OK"}])}catch(r){console.error("Error in handleSave:",r),S.default.alert("Download Failed","Could not save the image. Please try again or long-press on the image to save it manually.",[{text:"OK"}])}finally{c(!1)}},disabled:s,children:s?(0,b.jsx)(h.default,{size:"small",color:"#fff"}):(0,b.jsx)(p.default,{name:"download-outline",size:24,color:"#fff"})})]})]})}):(0,b.jsx)(l.default,{style:P.container,children:(0,b.jsxs)(l.default,{style:P.placeholderContainer,children:[(0,b.jsx)(p.default,{name:"image-outline",size:80,color:"#ddd"}),(0,b.jsx)(d.default,{style:P.placeholderText,children:"Enter a prompt to generate an image"})]})})}const P=i.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",width:"100%"},imageContainer:{position:"relative",borderRadius:12,overflow:"hidden",elevation:5,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84},image:{width:O,height:A,borderRadius:12},promptContainer:{position:"absolute",bottom:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.6)",padding:12},promptText:{color:"#fff",fontSize:14,fontStyle:"italic"},loadingContainer:{width:O,height:A,backgroundColor:"#f5f5f5",borderRadius:12,justifyContent:"center",alignItems:"center"},loadingText:{marginTop:16,fontSize:16,fontWeight:"bold",color:"#333"},loadingSubText:{marginTop:8,fontSize:14,color:"#666"},errorContainer:{width:O,height:A,backgroundColor:"#fff5f5",borderRadius:12,justifyContent:"center",alignItems:"center",padding:20},errorText:{marginTop:16,fontSize:16,fontWeight:"bold",color:"#ff6b6b"},errorSubText:{marginTop:8,fontSize:14,color:"#666",textAlign:"center"},placeholderContainer:{width:O,height:A,backgroundColor:"#f9f9f9",borderRadius:12,justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:"#eee",borderStyle:"dashed"},placeholderText:{marginTop:16,fontSize:16,color:"#999",textAlign:"center",paddingHorizontal:20},buttonContainer:{position:"absolute",top:10,right:10,flexDirection:"row"},iconButton:{backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:20,width:40,height:40,justifyContent:"center",alignItems:"center",marginLeft:8},iconButtonDisabled:{backgroundColor:"rgba(0, 0, 0, 0.3)"}});const R=i.default.create({safeArea:{flex:1,backgroundColor:"#fff"},keyboardAvoidingView:{flex:1},scrollView:{flexGrow:1},container:{flex:1,alignItems:"center",justifyContent:"space-between",padding:16},header:{alignItems:"center",marginVertical:20},title:{fontSize:28,fontWeight:"bold",color:"#6a5acd",marginBottom:8},subtitle:{fontSize:16,color:"#666",textAlign:"center"},poweredBy:{fontSize:12,color:"#999",marginTop:4}});(0,n.default)((function(){const[e,t]=(0,o.useState)(null),[r,n]=(0,o.useState)(!1),[i,f]=(0,o.useState)(null),[g,h]=(0,o.useState)(null);return(0,b.jsxs)(s.default,{style:R.safeArea,children:[(0,b.jsx)(u.default,{style:R.keyboardAvoidingView,behavior:"height",keyboardVerticalOffset:25,children:(0,b.jsx)(c.default,{contentContainerStyle:R.scrollView,keyboardShouldPersistTaps:"handled",children:(0,b.jsxs)(l.default,{style:R.container,children:[(0,b.jsxs)(l.default,{style:R.header,children:[(0,b.jsx)(d.default,{style:R.title,children:"AI Image Generator"}),(0,b.jsx)(d.default,{style:R.subtitle,children:"Create images from text descriptions"}),(0,b.jsx)(d.default,{style:R.poweredBy,children:"Powered by Pollinations.ai"})]}),(0,b.jsx)(I,{imageUrl:e,isLoading:r,error:i,prompt:g}),(0,b.jsx)(x,{onSubmit:async e=>{n(!0),f(null),h(e),t(null);try{const r=await async function(e){try{return{imageUrl:`${`https://image.pollinations.ai/prompt/${encodeURIComponent(e)}`}?random=${Math.random()}`,error:null}}catch(i){return console.error("Error generating image URL:",i),{imageUrl:null,error:i instanceof Error?i.message:"An unknown error occurred"}}}(e);if(r.error)f(r.error);else if(r.imageUrl)return void setTimeout((()=>{t(r.imageUrl),n(!1)}),1500)}catch(r){f("Failed to generate image. Please try again.")}n(!1)},isLoading:r})]})})}),(0,b.jsx)(a.StatusBar,{style:"auto"})]})}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,(()=>{var e=[];r.O=(t,n,o,a)=>{if(!n){var i=1/0;for(c=0;c<e.length;c++){for(var[n,o,a]=e[c],l=!0,s=0;s<n.length;s++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[i,l,s]=n,d=0;if(i.some((t=>0!==e[t]))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(s)var c=s(r)}for(t&&t(n);d<i.length;d++)a=i[d],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[760],(()=>r(1180)));n=r.O(n)})();
//# sourceMappingURL=main.e94d7ad3.js.map